# [Gold V] 시철이가 사랑한 GCD - 21870 

[문제 링크](https://www.acmicpc.net/problem/21870) 

### 성능 요약

메모리: 3684 KB, 시간: 56 ms

### 분류

브루트포스 알고리즘(bruteforcing), 분할 정복(divide_and_conquer), 유클리드 호제법(euclidean), 수학(math), 정수론(number_theory), 재귀(recursion)

### 문제 설명

<blockquote>
<p><em><strong>Q1.</strong> 사막에서 바늘을 찾는 방법은?</em></p>

<p><em><strong>A1.</strong> 대학원생을 시킨다.</em></p>

<p><em><strong>Q2.</strong> 신촌에서 자취방을 구하는 방법은?</em></p>

<p><em><strong>A2.</strong> 대학원생을 시킨다.</em></p>
</blockquote>

<p>연희동 최고의 대학원생 시철이는 오늘도 바쁘다. 그런 시철이도 이번 주말만큼은 꼭 해야 하는 일이 있었는데, 바로 자취방을 구하는 일이다!</p>

<p>시철이는 신촌에서 가장 아름다운 자취방을 구하고 싶다. 하지만 시철이는 매우 바빴기 때문에 직접 방을 찾아다닐 수 없었다. 그래서 시철이는 인터넷에서 본 매물번호와 $GCD$(Greatest Common Divisor, 최대공약수)를 이용해 자취방의 아름다움을 예측하려 했다. 아름다움을 측정하는 자세한 방법은 다음과 같다.</p>

<ol>
	<li>매물번호를 나타내는 정수 배열 $S$가 있다. ($|S| = N$, $|S|$는 $S$의 원소의 개수)</li>
	<li>배열 $S$의 원소를 왼쪽부터 $\lfloor \frac{|S|}{2} \rfloor$개 선택하거나, 오른쪽부터 $\lceil \frac{|S|}{2} \rceil$개 선택한다. 만약 $S$의 원소가 단 한 개라면 그 원소를 선택한다.</li>
	<li>선택한 원소들의 $GCD$를 구한다.</li>
	<li>선택하지 않은 원소의 배열 $S'$을 다시 $2$번부터 반복한다. </li>
	<li>이때, 자취방의 아름다움은 $3$번에서 구한 $GCD$의 합의 최댓값으로 정의한다.</li>
</ol>

<p>교수님의 과제로 쉴 날 없는 시철이는, 그나마 더 나은 삶을 위해 자취방을 빨리 구하려고 한다. 매물번호를 이용해 자취방의 아름다움을 계산해보자!</p>

### 입력 

 <p>첫째 줄에 정수 $N$이 주어진다. ($1 \leq N \leq 200\,000$)</p>

<p>둘째 줄에 자취방의 매물번호를 의미하는 정수 $a_1, a_2, \cdots, a_N$이 주어진다. ($1 \leq a_i \leq 200\,000$)</p>

### 출력 

 <p>자취방의 아름다움을 출력한다.</p>

